<!-- User Profile Component for PDF Chat Assistant -->
<div class="user-profile-container">
    <div class="user-profile-header">
        <div class="profile-avatar">
            <div class="avatar-circle">
                <span class="avatar-initials">{{ current_user.username|first|upper }}</span>
            </div>
        </div>
        <div class="profile-info">
            <h2 class="profile-name">{{ current_user.username }}</h2>
            <span class="profile-email text-muted">{{ current_user.email|default('user@example.com') }}</span>
            <div class="profile-stats">
                <div class="stat-item">
                    <span class="stat-number">{{ documents_count }}</span>
                    <span class="stat-label">Documents</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ conversations_count }}</span>
                    <span class="stat-label">Conversations</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="profile-tabs">
        <div class="tab-header">
            <button class="tab-btn active" data-tab="account">Account Settings</button>
            <button class="tab-btn" data-tab="preferences">Preferences</button>
            <button class="tab-btn" data-tab="documents">Documents</button>
        </div>
        
        <div class="tab-content">
            <!-- Account Settings Tab -->
            <div class="tab-pane active" id="account">
                <form class="profile-form" id="accountForm">
                    <div class="form-group">
                        <label for="username">Username</label>
                        <input type="text" id="username" class="form-control" value="{{ current_user.username }}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" class="form-control" value="{{ current_user.email|default('user@example.com') }}" required>
                    </div>
                    
                    <div class="form-group password-group">
                        <label for="current-password">Current Password</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="current-password" class="form-control">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="form-group password-group">
                        <label for="new-password">New Password</label>
                        <div class="password-input-wrapper">
                            <input type="password" id="new-password" class="form-control">
                            <button type="button" class="password-toggle">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary btn-gradient">Save Changes</button>
                </form>
            </div>
            
            <!-- Preferences Tab -->
            <div class="tab-pane" id="preferences">
                <div class="preference-group">
                    <h4>Theme Settings</h4>
                    <div class="form-group preference-item">
                        <span class="preference-label">Dark Mode</span>
                        <label class="switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                    
                    <div class="form-group preference-item">
                        <span class="preference-label">High Contrast</span>
                        <label class="switch">
                            <input type="checkbox" id="contrastToggle">
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <div class="preference-group">
                    <h4>Conversation Settings</h4>
                    <div class="form-group preference-item">
                        <span class="preference-label">Save Conversation History</span>
                        <label class="switch">
                            <input type="checkbox" id="saveHistoryToggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    
                    <div class="form-group preference-item">
                        <span class="preference-label">Show Citations</span>
                        <label class="switch">
                            <input type="checkbox" id="citationsToggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    
                    <div class="form-group preference-item">
                        <span class="preference-label">Code Syntax Highlighting</span>
                        <label class="switch">
                            <input type="checkbox" id="syntaxToggle" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                
                <button type="button" class="btn btn-primary btn-gradient mt-4">Save Preferences</button>
            </div>
            
            <!-- Documents Tab -->
            <div class="tab-pane" id="documents">
                <div class="documents-list">
                    {% if documents %}
                        {% for doc in documents %}
                        <div class="document-card">
                            <div class="document-icon">
                                <i class="fas fa-file-pdf"></i>
                            </div>
                            <div class="document-info">
                                <h4 class="document-title">{{ doc.filename }}</h4>
                                <p class="document-date text-muted">Uploaded: {{ doc.upload_date }}</p>
                                <div class="document-stats">
                                    <span class="doc-stat"><i class="fas fa-comment"></i> {{ doc.conversation_count }}</span>
                                    <span class="doc-stat"><i class="fas fa-clock"></i> {{ doc.last_used }}</span>
                                </div>
                            </div>
                            <div class="document-actions">
                                <button class="btn btn-icon" title="Chat with document">
                                    <i class="fas fa-comments"></i>
                                </button>
                                <button class="btn btn-icon" title="Download document">
                                    <i class="fas fa-download"></i>
                                </button>
                                <button class="btn btn-icon text-danger" title="Delete document">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <div class="empty-state">
                            <div class="empty-icon">
                                <i class="fas fa-file-upload"></i>
                            </div>
                            <h3>No documents yet</h3>
                            <p>Upload a document to start chatting</p>
                            <a href="{{ url_for('documents') }}" class="btn btn-primary btn-gradient">Upload Document</a>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
